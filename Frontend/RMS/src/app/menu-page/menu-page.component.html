<!--@author Jana Barakeh-->
<div class="menu-page">
    <h2>Menu Items</h2>
  
    <div class="container">
      <div class="row">
        <div class="col-md-4" *ngFor="let item of menuItems">
          <div class="card h-100 mb-4">
          <!--  <img src="..." class="card-img-top" alt="...">-->
            <div class="card-body">
              <h5 class="card-title">{{ item.name }}</h5>
              <p class="card-text">{{ item.description }}</p>
              <p>Price: ${{ item.price }}</p>
              <button class="btn btn-danger" (click)="deleteItem(item.id)">Delete</button>
              <button class="btn btn-warning" (click)="deactivateItem(item.id)" [disabled]="!item.is_available">Deactivate</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </div>
  
  <!--------------------------------------------------------------->
  <div class="container text-center">
    <div class="row">
  
  <!-- add -->
  <div class="add-item-form">
    <div class="col">
    <h2>Add New Menu Item</h2>
    <form (ngSubmit)="createNewItem()" #menuItemForm="ngForm">
      <div>
        <label for="name">Name:</label>
        <input 
          type="text" 
          id="name" 
          name="name" 
          [(ngModel)]="newItem.name" 
          required 
          #nameInput="ngModel">
        <div *ngIf="nameInput.invalid && nameInput.touched">
          Name is required.
        </div>
      </div>
  
      <div>
        <label for="description">Description:</label>
        <textarea 
          id="description" 
          name="description" 
          [(ngModel)]="newItem.description" 
          required 
          #descInput="ngModel"></textarea>
        <div *ngIf="descInput.invalid && descInput.touched">
          Description is required.
        </div>
      </div>
  
      <div>
        <label for="price">Price:</label>
        <input 
          type="number" 
          id="price" 
          name="price" 
          [(ngModel)]="newItem.price" 
          required 
          #priceInput="ngModel" 
          min="0">
        <div *ngIf="priceInput.invalid && priceInput.touched">
          Price is required and must be a valid number.
        </div>
      </div>
  
      <div>
        <label for="category">Category:</label>
        <input 
          type="text" 
          id="category" 
          name="category" 
          [(ngModel)]="newItem.category" 
          required 
          #categoryInput="ngModel">
        <div *ngIf="categoryInput.invalid && categoryInput.touched">
          Category is required.
        </div>
      </div>
  
      <div>
        <label for="is_available">Available:</label>
        <input 
          type="checkbox" 
          id="is_available" 
          name="is_available" 
          [(ngModel)]="newItem.is_available" 
          #isAvailableInput="ngModel">
      </div>
  
      <button type="submit" [disabled]="menuItemForm.invalid">Add Item</button>
    </form>
  </div>
  </div>
  
  <!-- update -->
  <div class="col">
  <div class="update-item-form">
    <h2>Update Menu Item</h2>
  
    <form (ngSubmit)="UpdateItem(itemId)" #updateItemForm="ngForm">
      
      <!-- Hidden input for the item's ID (optional if selecting from UI) -->
      <input type="hidden" [(ngModel)]="itemId" name="id">
      
      <div>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" [(ngModel)]="updateItem.name" required>
      </div>
  
      <div>
        <label for="description">Description:</label>
        <textarea id="description" name="description" [(ngModel)]="updateItem.description" required></textarea>
      </div>
  
      <div>
        <label for="price">Price:</label>
        <input type="number" id="price" name="price" [(ngModel)]="updateItem.price" required>
      </div>
  
      <div>
        <label for="category">Category:</label>
        <input type="text" id="category" name="category" [(ngModel)]="updateItem.category" required>
      </div>
  
      <div>
        <label for="is_available">Available:</label>
        <input 
          type="checkbox" 
          id="is_available" 
          name="is_available" 
          [(ngModel)]="updateItem.is_available" 
          #isAvailableInput="ngModel">
      </div>
  
      <button type="submit" [disabled]="!updateItemForm.form.valid">Update Item</button>
    </form>
  </div>
  </div>
  
  
  
    </div>
  </div>
  
  
  